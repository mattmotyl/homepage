[
  "CREATE TABLE dim_platform (platform_id INTEGER PRIMARY KEY, name TEXT, region TEXT);",
  "INSERT INTO dim_platform (platform_id, name, region) VALUES (1, 'TikTok', 'EU'), (2, 'Facebook', 'EU'), (3, 'YouTube', 'EU'), (4, 'Mastodon', 'EU');",
  "CREATE TABLE dim_content_type (content_type_id INTEGER PRIMARY KEY, label TEXT, description TEXT);",
  "INSERT INTO dim_content_type (content_type_id, label, description) VALUES (1, 'Short video', 'Vertical video under 90 seconds'), (2, 'Feed post', 'Image or link shared to the primary feed'), (3, 'Livestream', 'Live video sessions'), (4, 'Long-form video', 'Video exceeding 10 minutes'), (5, 'Microblog', 'Short text-oriented update');",
  "CREATE TABLE dim_content_creators (author_id INTEGER PRIMARY KEY, display_name TEXT, country TEXT, organization_type TEXT);",
  "INSERT INTO dim_content_creators (author_id, display_name, country, organization_type) VALUES (201, 'Insight Lab', 'IE', 'Civil society'), (202, 'Agora Youth', 'DE', 'Non-profit'), (203, 'Local Pulse', 'ES', 'Newsroom'), (204, 'Trusted Voices', 'PL', 'Research collective');",
  "CREATE TABLE fact_engagements (snapshot_date TEXT, platform_id INTEGER, content_type_id INTEGER, impressions INTEGER, engaged_users INTEGER, watch_hours REAL, PRIMARY KEY (snapshot_date, platform_id, content_type_id), FOREIGN KEY (platform_id) REFERENCES dim_platform(platform_id), FOREIGN KEY (content_type_id) REFERENCES dim_content_type(content_type_id));",
  "INSERT INTO fact_engagements (snapshot_date, platform_id, content_type_id, impressions, engaged_users, watch_hours) VALUES ('2025-01-15', 1, 1, 1890000, 340000, 125000.4), ('2025-01-15', 1, 3, 240000, 58000, 41200.7), ('2025-01-15', 2, 2, 940000, 210000, 47000.9), ('2025-01-15', 2, 5, 410000, 155000, 12000.1), ('2025-01-15', 3, 4, 720000, 132000, 91000.6), ('2025-01-15', 3, 1, 380000, 67000, 34000.8), ('2025-01-15', 4, 5, 68000, 24000, 1800.3), ('2025-01-15', 4, 2, 52000, 19000, 1600.5);",
  "CREATE TABLE fact_engagement_details (content_id INTEGER, snapshot_date TEXT, platform_id INTEGER, content_type_id INTEGER, author_id INTEGER, experience_surface TEXT, audience_country TEXT, risk_cohort TEXT, total_views INTEGER, total_shares INTEGER, total_reactions INTEGER, watch_hours REAL, PRIMARY KEY (content_id, snapshot_date, audience_country), FOREIGN KEY (platform_id) REFERENCES dim_platform(platform_id), FOREIGN KEY (content_type_id) REFERENCES dim_content_type(content_type_id), FOREIGN KEY (author_id) REFERENCES dim_content_creators(author_id));",
  "INSERT INTO fact_engagement_details (content_id, snapshot_date, platform_id, content_type_id, author_id, experience_surface, audience_country, risk_cohort, total_views, total_shares, total_reactions, watch_hours) VALUES (9001, '2025-02-01', 1, 1, 201, 'For You', 'IE', 'election_observer', 210000, 18400, 62000, 5800.2), (9001, '2025-02-01', 1, 1, 201, 'For You', 'FR', 'general_public', 87000, 6400, 18000, 2400.6), (9002, '2025-02-01', 2, 2, 202, 'News Feed', 'DE', 'youth_advocate', 165000, 9200, 40200, 3900.4), (9003, '2025-02-01', 3, 4, 203, 'Subscriptions', 'ES', 'independent_researcher', 98000, 5200, 31200, 6700.5), (9004, '2025-02-01', 3, 1, 204, 'For You', 'PL', 'election_observer', 134000, 7500, 28800, 4300.9);",
  "CREATE TABLE fact_content_policy_scores (content_id INTEGER, snapshot_date TEXT, platform_id INTEGER, policy_label TEXT, risk_score REAL, enforcement_action TEXT, enforcement_time TEXT, PRIMARY KEY (content_id, snapshot_date), FOREIGN KEY (platform_id) REFERENCES dim_platform(platform_id));",
  "INSERT INTO fact_content_policy_scores (content_id, snapshot_date, platform_id, policy_label, risk_score, enforcement_action, enforcement_time) VALUES (9001, '2025-02-01', 1, 'DISINFORMATION', 0.82, 'DEMONETIZE', '2025-02-02T08:30:00Z'), (9002, '2025-02-01', 2, 'YOUTH_SAFETY', 0.64, NULL, NULL), (9003, '2025-02-01', 3, 'CIVIC_INTEGRITY', 0.58, 'LABEL', '2025-02-02T12:10:00Z'), (9004, '2025-02-01', 3, 'HARASSMENT', 0.47, NULL, NULL);"
]
